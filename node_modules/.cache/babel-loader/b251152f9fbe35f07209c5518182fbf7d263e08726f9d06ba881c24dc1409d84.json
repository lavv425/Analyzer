{"ast":null,"code":"import _taggedTemplateLiteral from\"/Applications/XAMPP/xamppfiles/htdocs/projects/ticket/analyzer/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral.js\";var _templateObject;import{useState,useEffect}from\"react\";import SelectTable from\"./Selections/SelectTable\";import SelectFields from\"./Selections/SelectFields\";import Table from\"../Table/Table\";import IAmLoading from\"../IAmLoading/IAmLoading\";import GoToTop from\"../GoToTop/GoToTop\";import styled from\"styled-components\";import{StyledPageContainerQuery,StyledPageContainer}from\"../SharedComponents\";import Alert from'@mui/material/Alert';import AlertTitle from'@mui/material/AlertTitle';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const StyledMuiAlert=styled(Alert)(_templateObject||(_templateObject=_taggedTemplateLiteral([\"\\nz-index: 9999999 !important;\\nposition: absolute;\\nwidth: 100vw;\\ntop:0;\"])));const IndexQM=_ref=>{let{isFetched,currentFollowingClass,data,handleSelectTableChange,selectedTable,tableIsSelected,selectedTableFields,selectedFields,handleSelectedFields,selectedFieldValues,selectedFieldsObj}=_ref;const[showAlert,setShowAlert]=useState(false);const[severityCap,setSeverityCap]=useState();const[alertTitleText,setAlertTitleText]=useState();const[alertBodyText,setAlertBodyText]=useState();useEffect(()=>{if(showAlert){setTimeout(()=>{setShowAlert(false);},3500);}},[showAlert]);useEffect(()=>{if(!tableIsSelected&&tableIsSelected!==false){//primo giro di m che è a false\nsetSeverityCap('warning');setAlertTitleText('Attenzione!');setAlertBodyText('La tabella che hai selezionato non ha dati, e non è selezionabile!');setShowAlert(true);}},[tableIsSelected]);return/*#__PURE__*/_jsxs(_Fragment,{children:[isFetched?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(GoToTop,{classFollowing:currentFollowingClass}),/*#__PURE__*/_jsxs(StyledPageContainerQuery,{children:[/*#__PURE__*/_jsx(SelectTable,{data:data,handleSelectTableChange:handleSelectTableChange,selectedTable:selectedTable}),tableIsSelected&&/*#__PURE__*/_jsx(SelectFields,{selectedTableFields:selectedTableFields,selectedFields:selectedFields,handleSelectedFields:handleSelectedFields})]}),/*#__PURE__*/_jsx(StyledPageContainer,{children:/*#__PURE__*/_jsx(Table,{style:{marginLeft:'5vw'},content:selectedFieldsObj,headers:selectedFieldValues})})]}):/*#__PURE__*/_jsx(IAmLoading,{}),showAlert&&/*#__PURE__*/_jsxs(StyledMuiAlert,{className:\"mui-alert\",severity:severityCap,children:[/*#__PURE__*/_jsx(AlertTitle,{children:alertTitleText}),alertBodyText]})]});};export default IndexQM;","map":{"version":3,"names":["useState","useEffect","SelectTable","SelectFields","Table","IAmLoading","GoToTop","styled","StyledPageContainerQuery","StyledPageContainer","Alert","AlertTitle","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","StyledMuiAlert","_templateObject","_taggedTemplateLiteral","IndexQM","_ref","isFetched","currentFollowingClass","data","handleSelectTableChange","selectedTable","tableIsSelected","selectedTableFields","selectedFields","handleSelectedFields","selectedFieldValues","selectedFieldsObj","showAlert","setShowAlert","severityCap","setSeverityCap","alertTitleText","setAlertTitleText","alertBodyText","setAlertBodyText","setTimeout","children","classFollowing","style","marginLeft","content","headers","className","severity"],"sources":["/Applications/XAMPP/xamppfiles/htdocs/projects/ticket/analyzer/src/Components/QueryMaker/IndexQM.jsx"],"sourcesContent":["import { useState, useEffect } from \"react\";\nimport SelectTable from \"./Selections/SelectTable\";\nimport SelectFields from \"./Selections/SelectFields\";\nimport Table from \"../Table/Table\";\nimport IAmLoading from \"../IAmLoading/IAmLoading\";\nimport GoToTop from \"../GoToTop/GoToTop\";\nimport styled from \"styled-components\";\nimport { StyledPageContainerQuery, StyledPageContainer } from \"../SharedComponents\";\nimport Alert from '@mui/material/Alert';\nimport AlertTitle from '@mui/material/AlertTitle';\n\nconst StyledMuiAlert = styled(Alert)`\nz-index: 9999999 !important;\nposition: absolute;\nwidth: 100vw;\ntop:0;`;\nconst IndexQM = ({ isFetched, currentFollowingClass, data, handleSelectTableChange, selectedTable, tableIsSelected, selectedTableFields, selectedFields, handleSelectedFields, selectedFieldValues, selectedFieldsObj }) => {\n    const [showAlert, setShowAlert] = useState(false)\n    const [severityCap, setSeverityCap] = useState()\n    const [alertTitleText, setAlertTitleText] = useState()\n    const [alertBodyText, setAlertBodyText] = useState()\n\n\n    useEffect(() => {\n        if (showAlert) {\n            setTimeout(() => {\n                setShowAlert(false);\n            }, 3500);\n        }\n    }, [showAlert])\n\n    useEffect(() => {\n        if (!tableIsSelected && tableIsSelected !== false) { //primo giro di m che è a false\n            setSeverityCap('warning');\n            setAlertTitleText('Attenzione!');\n            setAlertBodyText('La tabella che hai selezionato non ha dati, e non è selezionabile!');\n            setShowAlert(true);\n        }\n    }, [tableIsSelected])\n\n    return (\n        <>\n            {isFetched ? (\n                <>\n                    <GoToTop classFollowing={currentFollowingClass} />\n                    <StyledPageContainerQuery>\n                        <SelectTable data={data} handleSelectTableChange={handleSelectTableChange} selectedTable={selectedTable} />\n                        {tableIsSelected && <SelectFields selectedTableFields={selectedTableFields} selectedFields={selectedFields} handleSelectedFields={handleSelectedFields} />}\n                        {/*<SelectFields*/}\n                    </StyledPageContainerQuery>\n                    <StyledPageContainer>\n                        <Table style={{ marginLeft: '5vw' }} content={selectedFieldsObj} headers={selectedFieldValues} />\n                    </StyledPageContainer>\n                </>\n            ) : (\n                <IAmLoading />\n            )}\n            {showAlert && (\n                <StyledMuiAlert className=\"mui-alert\" severity={severityCap}>\n                    <AlertTitle>{alertTitleText}</AlertTitle>\n                    {alertBodyText}\n                </StyledMuiAlert>\n            )}\n        </>\n    );\n\n};\n\nexport default IndexQM;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}